# üß† –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

## –û–±–∑–æ—Ä

–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–±–æ—Ä–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—É–¥—É—â–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –Ω–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞.

## –¶–µ–ª–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ü–µ–ª–∏
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** –ø–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞
- **–í—ã—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏**
- **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ö–æ–¥–æ–≤
- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** –ª–µ—á–µ–Ω–∏—è

### 2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ü–µ–ª–∏
- **–û–±—É—á–µ–Ω–∏–µ AI-–º–æ–¥–µ–ª–µ–π** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ª–µ—á–µ–Ω–∏—è
- **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤** –¥–ª—è –Ω–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤** –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–≤—è–∑–µ–π
- **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π

## –¢–∏–ø—ã —Å–æ–±–∏—Ä–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 1. –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
```typescript
interface ClinicalData {
  // –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ü–∏–µ–Ω—Ç–µ
  demographics: {
    age: number;
    gender: 'male' | 'female' | 'other';
    ethnicity: string;
    location: {
      country: string;
      region: string;
      urban_rural: 'urban' | 'rural';
    };
  };

  // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω—Å—É–ª—å—Ç–µ
  stroke_info: {
    type: 'ischemic' | 'hemorrhagic' | 'tia';
    severity: 'mild' | 'moderate' | 'severe';
    affected_areas: string[]; // ['left_hemisphere', 'right_hemisphere', 'brainstem']
    onset_date: Date;
    hospital_admission: Date;
    discharge_date: Date;
  };

  // –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è
  medical_history: {
    comorbidities: string[]; // ['hypertension', 'diabetes', 'atrial_fibrillation']
    medications: {
      pre_stroke: string[];
      post_stroke: string[];
      current: string[];
    };
    family_history: {
      stroke: boolean;
      cardiovascular_disease: boolean;
      diabetes: boolean;
    };
  };

  // –†–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  rehabilitation: {
    start_date: Date;
    duration_weeks: number;
    sessions_per_week: number;
    therapy_types: string[]; // ['physical', 'speech', 'occupational', 'cognitive']
    progress_metrics: {
      motor_function: number; // 0-100
      speech_function: number; // 0-100
      cognitive_function: number; // 0-100
      independence_level: number; // 0-100
    };
  };
}
```

### 2. –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
```typescript
interface BehavioralData {
  // –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
  app_usage: {
    daily_active_minutes: number;
    features_used: string[];
    engagement_score: number; // 0-100
    social_interactions: number;
  };

  // –î–Ω–µ–≤–Ω–∏–∫ –∑–¥–æ—Ä–æ–≤—å—è
  health_diary: {
    mood_trends: number[]; // -5 to +5
    symptom_patterns: {
      headaches: number[];
      fatigue: number[];
      memory_issues: number[];
      speech_difficulties: number[];
    };
    medication_adherence: number; // 0-100
    exercise_frequency: number;
  };

  // –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  social_engagement: {
    posts_count: number;
    comments_count: number;
    support_group_participation: number;
    mentor_mentee_relationships: number;
  };
}
```

### 3. –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
```typescript
interface BiometricData {
  // –î–∞–Ω–Ω—ã–µ —Å –Ω–æ—Å–∏–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  wearable_data: {
    heart_rate: {
      resting: number;
      variability: number;
      trends: number[];
    };
    blood_pressure: {
      systolic: number[];
      diastolic: number[];
      trends: string; // 'improving', 'stable', 'worsening'
    };
    sleep_patterns: {
      duration: number;
      quality: number; // 0-100
      deep_sleep_percentage: number;
      rem_sleep_percentage: number;
    };
    activity_levels: {
      steps: number[];
      calories_burned: number[];
      active_minutes: number[];
    };
  };

  // –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
  cognitive_assessments: {
    memory_tests: {
      short_term: number[];
      long_term: number[];
      working_memory: number[];
    };
    attention_tests: {
      sustained_attention: number[];
      selective_attention: number[];
      divided_attention: number[];
    };
    language_tests: {
      comprehension: number[];
      expression: number[];
      fluency: number[];
    };
  };
}
```

### 4. –ù–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–±—É–¥—É—â–µ–µ)
```typescript
interface NeurotechnologyData {
  // –î–∞–Ω–Ω—ã–µ —Å –Ω–µ–π—Ä–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
  brain_computer_interface: {
    eeg_signals: {
      alpha_waves: number[];
      beta_waves: number[];
      gamma_waves: number[];
      coherence: number[][];
    };
    neural_activity: {
      firing_rates: number[];
      synchronization: number[];
      plasticity_indicators: number[];
    };
    motor_imagery: {
      accuracy: number;
      response_time: number;
      brain_patterns: number[][];
    };
  };

  // –î–∞–Ω–Ω—ã–µ —Å –∏–º–ø–ª–∞–Ω—Ç–æ–≤ (Neuralink, Synchron)
  implant_data: {
    neural_spikes: number[][];
    local_field_potentials: number[][];
    stimulation_responses: {
      motor_cortex: number[];
      sensory_cortex: number[];
      language_areas: number[];
    };
  };
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 1. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞
```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏] --> B[–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ]
    A --> C[Web-–ø–æ—Ä—Ç–∞–ª]
    A --> D[–ù–æ—Å–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞]
    A --> E[–ù–µ–π—Ä–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã]
    
    B --> F[Data Collection Service]
    C --> F
    D --> F
    E --> F
    
    F --> G[Data Validation]
    G --> H[Data Anonymization]
    H --> I[Research Database]
    
    I --> J[AI/ML Pipeline]
    I --> K[Research API]
    I --> L[Clinical Trial Platform]
    
    J --> M[Predictive Models]
    K --> N[Research Partners]
    L --> O[Clinical Studies]
```

### 2. –°–µ—Ä–≤–∏—Å —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```typescript
@Injectable()
export class DataCollectionService {
  constructor(
    private readonly dataValidationService: DataValidationService,
    private readonly anonymizationService: AnonymizationService,
    private readonly researchRepository: ResearchRepository,
  ) {}

  async collectHealthData(userId: string, data: HealthData): Promise<void> {
    // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    const validatedData = await this.dataValidationService.validate(data);
    
    // 2. –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è
    const anonymizedData = await this.anonymizationService.anonymize(validatedData, userId);
    
    // 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –±–∞–∑—É
    await this.researchRepository.saveHealthData(anonymizedData);
    
    // 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
    await this.updateResearchIndexes(anonymizedData);
  }

  async collectBehavioralData(userId: string, data: BehavioralData): Promise<void> {
    const validatedData = await this.dataValidationService.validate(data);
    const anonymizedData = await this.anonymizationService.anonymize(validatedData, userId);
    
    await this.researchRepository.saveBehavioralData(anonymizedData);
    await this.updateBehavioralIndexes(anonymizedData);
  }

  async collectBiometricData(userId: string, data: BiometricData): Promise<void> {
    const validatedData = await this.dataValidationService.validate(data);
    const anonymizedData = await this.anonymizationService.anonymize(validatedData, userId);
    
    await this.researchRepository.saveBiometricData(anonymizedData);
    await this.updateBiometricIndexes(anonymizedData);
  }
}
```

## –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### 1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
```typescript
export class DataAnonymizationService {
  async anonymize(data: any, userId: string): Promise<AnonymizedData> {
    const anonymizedId = this.generateAnonymizedId(userId);
    
    return {
      // –ó–∞–º–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
      anonymized_user_id: anonymizedId,
      
      // –û–±–æ–±—â–µ–Ω–∏–µ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
      age_group: this.getAgeGroup(data.demographics.age),
      gender: data.demographics.gender,
      region: this.getRegionGroup(data.demographics.location.region),
      
      // –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
      stroke_type: data.stroke_info.type,
      stroke_severity: data.stroke_info.severity,
      affected_areas: data.stroke_info.affected_areas,
      
      // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π)
      time_offset: this.generateTimeOffset(),
      
      // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
      patterns: this.extractPatterns(data),
      
      // –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
      personal_info: null,
    };
  }

  private generateAnonymizedId(userId: string): string {
    return crypto.createHash('sha256')
      .update(userId + process.env.ANONYMIZATION_SALT)
      .digest('hex')
      .substring(0, 16);
  }

  private getAgeGroup(age: number): string {
    if (age < 30) return '18-29';
    if (age < 40) return '30-39';
    if (age < 50) return '40-49';
    if (age < 60) return '50-59';
    if (age < 70) return '60-69';
    return '70+';
  }

  private extractPatterns(data: any): any {
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    return {
      recovery_trajectory: this.analyzeRecoveryPattern(data.rehabilitation),
      behavioral_patterns: this.analyzeBehaviorPattern(data.behavioral),
      biometric_trends: this.analyzeBiometricTrends(data.biometric),
    };
  }
}
```

### 2. –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
```typescript
export class AnonymizationQualityControl {
  async validateAnonymization(originalData: any, anonymizedData: any): Promise<boolean> {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
    const hasPersonalInfo = this.checkForPersonalInfo(anonymizedData);
    if (hasPersonalInfo) return false;

    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
    const researchValue = this.assessResearchValue(anonymizedData);
    if (researchValue < 0.7) return false;

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
    const reidentificationRisk = this.assessReidentificationRisk(anonymizedData);
    if (reidentificationRisk > 0.1) return false;

    return true;
  }
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
CREATE SCHEMA research_data;

-- –ê–Ω–æ–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
CREATE TABLE research_data.anonymized_profiles (
    anonymized_id VARCHAR(16) PRIMARY KEY,
    age_group VARCHAR(10) NOT NULL,
    gender VARCHAR(10) NOT NULL,
    region VARCHAR(50) NOT NULL,
    stroke_type VARCHAR(20) NOT NULL,
    stroke_severity VARCHAR(20) NOT NULL,
    affected_areas TEXT[] NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
CREATE TABLE research_data.clinical_data (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    anonymized_id VARCHAR(16) REFERENCES research_data.anonymized_profiles(anonymized_id),
    data_type VARCHAR(50) NOT NULL,
    data_json JSONB NOT NULL,
    time_offset INTEGER NOT NULL, -- –°–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–Ω—è—Ö
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
CREATE TABLE research_data.behavioral_data (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    anonymized_id VARCHAR(16) REFERENCES research_data.anonymized_profiles(anonymized_id),
    app_usage JSONB,
    health_diary JSONB,
    social_engagement JSONB,
    time_offset INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
CREATE TABLE research_data.biometric_data (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    anonymized_id VARCHAR(16) REFERENCES research_data.anonymized_profiles(anonymized_id),
    wearable_data JSONB,
    cognitive_assessments JSONB,
    time_offset INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX idx_clinical_data_type ON research_data.clinical_data(data_type);
CREATE INDEX idx_clinical_anonymized_id ON research_data.clinical_data(anonymized_id);
CREATE INDEX idx_behavioral_anonymized_id ON research_data.behavioral_data(anonymized_id);
CREATE INDEX idx_biometric_anonymized_id ON research_data.biometric_data(anonymized_id);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è JSON –ø–æ–ª–µ–π
CREATE INDEX idx_clinical_data_json ON research_data.clinical_data USING GIN(data_json);
CREATE INDEX idx_behavioral_data_json ON research_data.behavioral_data USING GIN(app_usage);
```

## API –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π

### 1. Research Data API
```typescript
@Controller('research/data')
export class ResearchDataController {
  constructor(private readonly researchService: ResearchService) {}

  @Get('demographics')
  @UseGuards(ResearchAccessGuard)
  async getDemographics(@Query() filters: DemographicsFilters): Promise<DemographicsData> {
    return this.researchService.getDemographics(filters);
  }

  @Get('clinical')
  @UseGuards(ResearchAccessGuard)
  async getClinicalData(@Query() filters: ClinicalFilters): Promise<ClinicalData[]> {
    return this.researchService.getClinicalData(filters);
  }

  @Get('behavioral')
  @UseGuards(ResearchAccessGuard)
  async getBehavioralData(@Query() filters: BehavioralFilters): Promise<BehavioralData[]> {
    return this.researchService.getBehavioralData(filters);
  }

  @Get('biometric')
  @UseGuards(ResearchAccessGuard)
  async getBiometricData(@Query() filters: BiometricFilters): Promise<BiometricData[]> {
    return this.researchService.getBiometricData(filters);
  }

  @Get('patterns')
  @UseGuards(ResearchAccessGuard)
  async getRecoveryPatterns(@Query() filters: PatternFilters): Promise<RecoveryPattern[]> {
    return this.researchService.getRecoveryPatterns(filters);
  }
}
```

### 2. –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π
```typescript
export class DemographicsFilters {
  @IsOptional()
  @IsArray()
  age_groups?: string[]; // ['18-29', '30-39', ...]

  @IsOptional()
  @IsArray()
  genders?: string[]; // ['male', 'female', 'other']

  @IsOptional()
  @IsArray()
  regions?: string[]; // ['North America', 'Europe', 'Asia']

  @IsOptional()
  @IsArray()
  stroke_types?: string[]; // ['ischemic', 'hemorrhagic', 'tia']

  @IsOptional()
  @IsArray()
  stroke_severities?: string[]; // ['mild', 'moderate', 'severe']

  @IsOptional()
  @IsDateString()
  start_date?: string;

  @IsOptional()
  @IsDateString()
  end_date?: string;
}
```

## –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 1. –°–∏—Å—Ç–µ–º–∞ —Å–æ–≥–ª–∞—Å–∏–π
```typescript
export class ConsentService {
  async requestDataConsent(userId: string, researchPurpose: string): Promise<ConsentRequest> {
    const consentRequest = {
      id: uuidv4(),
      user_id: userId,
      research_purpose: researchPurpose,
      data_types: this.getDataTypesForPurpose(researchPurpose),
      anonymization_level: 'high',
      retention_period: '10 years',
      third_party_sharing: false,
      created_at: new Date(),
      expires_at: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000), // 1 –≥–æ–¥
    };

    await this.consentRepository.save(consentRequest);
    await this.notificationService.sendConsentRequest(userId, consentRequest);

    return consentRequest;
  }

  async grantConsent(consentId: string, userId: string): Promise<void> {
    const consent = await this.consentRepository.findById(consentId);
    if (!consent || consent.user_id !== userId) {
      throw new ForbiddenException('Consent not found');
    }

    await this.consentRepository.update(consentId, {
      status: 'granted',
      granted_at: new Date(),
    });

    // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
    await this.dataCollectionService.enableResearchDataCollection(userId, consent);
  }
}
```

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### 1. –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
```typescript
export class DataQualityMetrics {
  async calculateCompleteness(): Promise<DataCompletenessMetrics> {
    return {
      clinical_data_completeness: await this.calculateClinicalCompleteness(),
      behavioral_data_completeness: await this.calculateBehavioralCompleteness(),
      biometric_data_completeness: await this.calculateBiometricCompleteness(),
      overall_completeness: await this.calculateOverallCompleteness(),
    };
  }

  async calculateConsistency(): Promise<DataConsistencyMetrics> {
    return {
      temporal_consistency: await this.checkTemporalConsistency(),
      cross_validation_accuracy: await this.validateCrossData(),
      anomaly_detection: await this.detectAnomalies(),
    };
  }
}
```

### 2. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
```typescript
export class ResearchAnalytics {
  async generateInsights(filters: ResearchFilters): Promise<ResearchInsights> {
    return {
      recovery_patterns: await this.analyzeRecoveryPatterns(filters),
      demographic_correlations: await this.findDemographicCorrelations(filters),
      treatment_effectiveness: await this.analyzeTreatmentEffectiveness(filters),
      behavioral_indicators: await this.identifyBehavioralIndicators(filters),
      predictive_factors: await this.findPredictiveFactors(filters),
    };
  }
}
```

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### 1. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (1-2 –≥–æ–¥–∞)
- [ ] –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å 3-5 –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ —Ü–µ–Ω—Ç—Ä–∞–º–∏

### 2. –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (3-5 –ª–µ—Ç)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ AI-–º–æ–¥–µ–ª–µ–π –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å Neuralink, Synchron, Kernel
- [ ] –ó–∞–ø—É—Å–∫ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π

### 3. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (5+ –ª–µ—Ç)
- [ ] –ì–ª–æ–±–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Å—É–ª—å—Ç–Ω–∏–∫–æ–≤
- [ ] –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –Ω–µ–π—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- [ ] –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–µ–π—Ä–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- [ ] –†–µ–≤–æ–ª—é—Ü–∏—è –≤ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞

---
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 14.09.2025*
